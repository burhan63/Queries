-- Delete Renewal Notice --
--Step No: 01 sub sy pehle check karna hai kai renewal notice agey tw nh bana hua agar bana hua hoga tw delete nh kare gey
--Query:
select ia.assorted_code,ia.* from ins_assorted ia 
where ia.assorted_code 
in('080000154213','080000154214','080000154216','080000154219',
'080000154222','080000154215','080000154217','080000154218','080000154220''080000154221')

080000149332
080000149333
080000149334


--Step No: 02 uskai bad yeh query run kardaini hai jahan jahan assoretd code hain wahan '08' wala dal daina hai or 
-- run kardaini hai

--this is for renewal delete
DELETE FROM INS_PREMIUM WHERE SUBSTR(REFERENCE_CODE, 1, 12)in('080000154080');
    DELETE FROM INS_PREMIUM
     WHERE REFERENCE_CODE IN
           (SELECT VEHICLE_DETAIL_CODE
              FROM MT_VEHICLES_DETAILS
             WHERE ASSORTED_CODE in('080000154080'));
    DELETE FROM MT_PR_IN_ACCESSORIES
     WHERE VEHICLE_DETAIL_CODE IN
           (SELECT VEHICLE_DETAIL_CODE
              FROM MT_VEHICLES_DETAILS
             WHERE ASSORTED_CODE in('080000154080'));
    DELETE FROM INS_PERIL_RIDERS_POLICY
     WHERE VEHICLE_DETAIL_CODE IN
           (SELECT VEHICLE_DETAIL_CODE
              FROM MT_VEHICLES_DETAILS
             WHERE ASSORTED_CODE in('080000154080'));
    DELETE FROM MT_VEHICLES_DETAILS WHERE ASSORTED_CODE in('080000154080');
    DELETE FROM MT_VEHICLES_DETAILS WHERE ASSORTED_CODE in('080000154080');
    DELETE FROM INS_COINSURANCES WHERE ASSORTED_CODE in('080000154080');
    DELETE FROM INS_FINANCIAL_INSTITUTE_INTERE
     WHERE ASSORTED_CODE in('080000154080');
    DELETE FROM INS_ASSORTED_WARRANTIES WHERE ASSORTED_CODE in('080000154080');
    DELETE FROM INS_ASSORTED_GEN_CONDITIONS WHERE ASSORTED_CODE in('080000154080');
    DELETE FROM INS_ASSORTED_CLIENTS WHERE ASSORTED_CODE in('080000154080');
    
    DELETE FROM INS_ASSORTED WHERE ASSORTED_CODE in('080000154080');


10710
